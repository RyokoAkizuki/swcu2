/*
 * Copyright 2014 Yukino Hayakawa<tennencoll@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#include <random>
#include <sstream>
#include <iomanip>

#include "PlayerColors.hpp"

namespace swcu {

const int PlayerColors[] =
{
    0x5D8AA8FF, 0xF0F8FFFF, 0xE32636FF, 0xEFDECDFF, 0xE52B50FF, 0xFFBF00FF,
    0xFF033EFF, 0x9966CCFF, 0xA4C639FF, 0xF2F3F4FF, 0xCD9575FF, 0x915C83FF,
    0xFAEBD7FF, 0x008000FF, 0x8DB600FF, 0xFBCEB1FF, 0x00FFFFFF, 0x7FFFD4FF,
    0x4B5320FF, 0x3B444BFF, 0xE9D66BFF, 0xB2BEB5FF, 0x87A96BFF, 0xFF9966FF,
    0xA52A2AFF, 0xFDEE00FF, 0x6E7F80FF, 0xFF2052FF, 0x007FFFFF, 0xF0FFFFFF,
    0x89CFF0FF, 0xA1CAF1FF, 0xF4C2C2FF, 0x21ABCDFF, 0xFAE7B5FF, 0xFFE135FF,
    0x848482FF, 0x98777BFF, 0xBCD4E6FF, 0x9F8170FF, 0xF5F5DCFF, 0xFFE4C4FF,
    0x3D2B1FFF, 0xFE6F5EFF, 0x000000FF, 0xFFEBCDFF, 0x318CE7FF, 0xACE5EEFF,
    0xFAF0BEFF, 0x0000FFFF, 0xA2A2D0FF, 0x6699CCFF, 0x00DDDDFF, 0x8A2BE2FF,
    0xDE5D83FF, 0x79443BFF, 0x0095B6FF, 0xCC0000FF, 0x0070FFFF, 0xB5A642FF,
    0xCB4154FF, 0x1DACD6FF, 0x66FF00FF, 0xBF94E4FF, 0xC32148FF, 0xFF007FFF,
    0x08E8DEFF, 0xD19FE8FF, 0xF4BBFFFF, 0xFF55A3FF, 0xFB607FFF, 0x004225FF,
    0xCD7F32FF, 0x964B00FF, 0xFFC1CCFF, 0xE7FEFFFF, 0xF0DC82FF, 0x480607FF,
    0x800020FF, 0xDEB887FF, 0xCC5500FF, 0xE97451FF, 0x8A3324FF, 0xBD33A4FF,
    0x702963FF, 0x536872FF, 0x5F9EA0FF, 0x91A3B0FF, 0x006B3CFF, 0xED872DFF,
    0xE30022FF, 0xFFF600FF, 0x1E4D2BFF, 0xA3C1ADFF, 0xC19A6BFF, 0x78866BFF,
    0xFFEF00FF, 0xFF0800FF, 0xE4717AFF, 0x00BFFFFF, 0x592720FF, 0xC41E3AFF,
    0x00CC99FF, 0x960018FF, 0xEB4C42FF, 0xFF0038FF, 0xFFA6C9FF, 0xB31B1BFF,
    0x99BADDFF, 0xED9121FF, 0x92A1CFFF, 0xACE1AFFF, 0x4997D0FF, 0xDE3163FF,
    0xEC3B83FF, 0x007BA7FF, 0x2A52BEFF, 0x007AA5FF, 0xE03C31FF, 0xA0785AFF,
    0xF7E7CEFF, 0x36454FFF, 0xDFFF00FF, 0xFFB7C5FF, 0xCD5C5CFF, 0x7B3F00FF,
    0xFFA700FF, 0x98817BFF, 0xE34234FF, 0xD2691EFF, 0xE4D00AFF, 0xFBCCE7FF,
    0x0047ABFF, 0xC86428FF, 0x9BDDFFFF, 0x002E63FF, 0x8C92ACFF, 0xB87333FF,
    0x996666FF, 0xFF3800FF, 0xFF7F50FF, 0xF88379FF, 0xFF4040FF, 0x893F45FF,
    0xFBEC5DFF, 0x6495EDFF, 0xFFF8DCFF, 0xFFF8E7FF, 0xFFBCD9FF, 0xFFFDD0FF,
    0xDC143CFF, 0xBE0032FF, 0x00B7EBFF, 0xFFFF31FF, 0xF0E130FF, 0x00008BFF,
    0x654321FF, 0x5D3954FF, 0xA40000FF, 0x08457EFF, 0xC2B280FF, 0x986960FF,
    0xCD5B45FF, 0x008B8BFF, 0x536878FF, 0xB8860BFF, 0xA9A9A9FF, 0x013220FF,
    0x1A2421FF, 0xBDB76BFF, 0x483C32FF, 0x734F96FF, 0x8B008BFF, 0x003366FF,
    0x556B2FFF, 0xFF8C00FF, 0x9932CCFF, 0x779ECBFF, 0x03C03CFF, 0x966FD6FF,
    0xC23B22FF, 0xE75480FF, 0x003399FF, 0x872657FF, 0x8B0000FF, 0xE9967AFF,
    0x560319FF, 0x8FBC8FFF, 0x3C1414FF, 0x483D8BFF, 0x2F4F4FFF, 0x177245FF,
    0x918151FF, 0xFFA812FF, 0xCC4E5CFF, 0x00CED1FF, 0x9400D3FF, 0x00693EFF,
    0x555555FF, 0xD70A53FF, 0xA9203EFF, 0xEF3038FF, 0xE9692CFF, 0xDA3287FF,
    0xFAD6A5FF, 0xB94E48FF, 0xC154C1FF, 0x004B49FF, 0x9955BBFF, 0xCC00CCFF,
    0xFFCBA4FF, 0xFF1493FF, 0xFF9933FF, 0x1560BDFF, 0xEDC9AFFF, 0x696969FF,
    0x1E90FFFF, 0xD71868FF, 0x85BB65FF, 0x967117FF, 0x00009CFF, 0xE1A95FFF,
    0x614051FF, 0xF0EAD6FF, 0x1034A6FF, 0x7DF9FFFF, 0xFF003FFF, 0x00FE00FF,
    0x6F00FFFF, 0xCCFF00FF, 0xBF00FFFF, 0x3F00FFFF, 0x8F00FFFF, 0xFFFE00FF,
    0x50C878FF, 0x96C8A2FF, 0x801818FF, 0xB53389FF, 0xF400A1FF, 0xE5AA70FF,
    0x4D5D53FF, 0x4F7942FF, 0xFF2800FF, 0x6C541EFF, 0xB22222FF, 0xCE2029FF,
    0xE25822FF, 0xFC8EACFF, 0xF7E98EFF, 0xEEDC82FF, 0xFFFAF0FF, 0xFF004FFF,
    0x014421FF, 0xA67B5BFF, 0x0072BBFF, 0x86608EFF, 0xF64A8AFF, 0xFF00FFFF,
    0xFF77FFFF, 0xE48400FF, 0xCC6666FF, 0xDCDCDCFF, 0xE49B0FFF, 0xF8F8FFFF,
    0xB06500FF, 0x6082B6FF, 0xD4AF37FF, 0x996515FF, 0xFCC200FF, 0xDAA520FF,
    0xFFDF00FF, 0xA8E4A0FF, 0x808080FF, 0x465945FF, 0x00FF00FF, 0xADFF2FFF,
    0xA99A86FF, 0x00FF7FFF, 0x663854FF, 0x446CCFFF, 0x5218FAFF, 0x3FFF00FF,
    0xC90016FF, 0xDA9100FF, 0xDF73FFFF, 0xF0FFF0FF, 0x007000FF, 0xFF1DCEFF,
    0xFF69B4FF, 0x355E3BFF, 0x71A6D2FF, 0xFCF75EFF, 0xB2EC5DFF, 0x138808FF,
    0xE3A857FF, 0x00416AFF, 0x002FA7FF, 0xFF4F00FF, 0x5A4FCFFF, 0xF4F0ECFF,
    0x009000FF, 0xFFFFF0FF, 0x00A86BFF, 0xF8DE7EFF, 0xD73B3EFF, 0xA50B5EFF,
    0xFADA5EFF, 0xBDDA57FF, 0x29AB87FF, 0x4CBB17FF, 0xC3B091FF, 0xE8000DFF,
    0xD6CADDFF, 0x26619CFF, 0x087830FF, 0xFEFE22FF, 0xCF1020FF, 0xB57EDCFF,
    0xCCCCFFFF, 0xFFF0F5FF, 0xC4C3D0FF, 0x9457EBFF, 0xEE82EEFF, 0xE6E6FAFF,
    0xFBAED2FF, 0x967BB6FF, 0xFBA0E3FF, 0x7CFC00FF, 0xFFF700FF, 0xFFFACDFF,
    0xFDD5B1FF, 0xADD8E6FF, 0xB5651DFF, 0xE66771FF, 0xF08080FF, 0x93CCEAFF,
    0xF56991FF, 0xE0FFFFFF, 0xF984EFFF, 0xFAFAD2FF, 0xD3D3D3FF, 0x90EE90FF,
    0xF0E68CFF, 0xDCD0FFFF, 0xB19CD9FF, 0xFFB6C1FF, 0xFFA07AFF, 0xFF9999FF,
    0x20B2AAFF, 0x87CEFAFF, 0x778899FF, 0xB38B6DFF, 0xE68FACFF, 0xFFFFEDFF,
    0xC8A2C8FF, 0xBFFF00FF, 0x32CD32FF, 0x195905FF, 0xFAF0E6FF, 0x534B4FFF,
    0xE62020FF, 0xCA1F7BFF, 0xAAF0D1FF, 0xF8F4FFFF, 0xC04000FF, 0x6050DCFF,
    0x0BDA51FF, 0x979AAAFF, 0xFF8243FF, 0x800000FF, 0xE0B0FFFF, 0xEF98AAFF,
    0x915F6DFF, 0x73C2FBFF, 0xE5B73BFF, 0x66DDAAFF, 0x0000CDFF, 0xE2062CFF,
    0xAF4035FF, 0xF3E5ABFF, 0x035096FF, 0x1C352DFF, 0xDDA0DDFF, 0xBA55D3FF,
    0x0067A5FF, 0x9370DBFF, 0xBB3385FF, 0x3CB371FF, 0x7B68EEFF, 0xC9DC87FF,
    0x00FA9AFF, 0x674C47FF, 0x0054B4FF, 0x48D1CCFF, 0xC71585FF, 0xFDBCB4FF,
    0x191970FF, 0x004953FF, 0xFFC40CFF, 0x3EB489FF, 0xF5FFFAFF, 0x98FF98FF,
    0xFFE4E1FF, 0x73A9C2FF, 0xAE0C00FF, 0xADDFADFF, 0x30BA8FFF, 0x997A8DFF,
    0x18453BFF, 0xC54B8CFF, 0xFFDB58FF, 0x21421EFF, 0xF6ADC6FF, 0x2A8000FF,
    0xFFDEADFF, 0x000080FF, 0xFFA343FF, 0xFE59C2FF, 0x39FF14FF, 0xA4DDEDFF,
    0x0077BEFF, 0xCC7722FF, 0xCFB53BFF, 0xFDF5E6FF, 0x796878FF, 0x673147FF,
    0xC08081FF, 0x808000FF, 0x6B8E23FF, 0x3C341FFF, 0x9AB973FF, 0x0F0F0FFF,
    0xB784A7FF, 0xFF7F00FF, 0xFF9F00FF, 0xFF4500FF, 0xDA70D6FF, 0x990000FF,
    0x414A4CFF, 0xFF6E4AFF, 0x002147FF, 0x006600FF, 0x273BE2FF, 0x682860FF,
    0xAFEEEEFF, 0x987654FF, 0x9BC4E2FF, 0xDDADAFFF, 0xDA8A67FF, 0xABCDEFFF,
    0xE6BE8AFF, 0xEEE8AAFF, 0x98FB98FF, 0xF984E5FF, 0xFADADDFF, 0xDB7093FF,
    0x96DED1FF, 0xC9C0BBFF, 0xECEBBDFF, 0xBC987EFF, 0x78184AFF, 0xFFEFD5FF,
    0xAEC6CFFF, 0x836953FF, 0xCFCFC4FF, 0x77DD77FF, 0xF49AC2FF, 0xFFB347FF,
    0xFFD1DCFF, 0xB39EB5FF, 0xFF6961FF, 0xCB99C9FF, 0xFDFD96FF, 0x800080FF,
    0x40404FFF, 0xFFE5B4FF, 0xFFCC99FF, 0xFFDAB9FF, 0xFADFADFF, 0xD1E231FF,
    0x88D8C0FF, 0xE6E200FF, 0x1C39BBFF, 0x00A693FF, 0x32127AFF, 0xD99058FF,
    0xF77FBEFF, 0x701C1CFF, 0xCC3333FF, 0xFE28A2FF, 0xEC5800FF, 0xDF00FFFF,
    0x000F89FF, 0x123524FF, 0xFDDDE6FF, 0x01796FFF, 0xFFC0CBFF, 0xE7ACCFFF,
    0xF78FA7FF, 0x93C572FF, 0xE5E4E2FF, 0x8E4585FF, 0xFF5A36FF, 0xB0E0E6FF,
    0xFF8F00FF, 0x003153FF, 0xCC8899FF, 0xFF7518FF, 0x9F00C5FF, 0x69359CFF,
    0x9678B6FF, 0xFE4EDAFF, 0x50404DFF, 0x51484FFF, 0xFF355EFF, 0xE30B5DFF,
    0xE25098FF, 0xB3446CFF, 0x826644FF, 0xFF33CCFF, 0xE3256BFF, 0xFF0000FF,
    0xAB4E52FF, 0x522D80FF, 0x004040FF, 0xF1A7FEFF, 0xD70040FF, 0x0892D0FF,
    0xA76BCFFF, 0xB666D2FF, 0xB03060FF, 0x414833FF, 0x00CCCCFF, 0xF9429EFF,
    0x674846FF, 0xB76E79FF, 0xFF66CCFF, 0xAA98A9FF, 0x905D5DFF, 0x65000BFF,
    0xD40000FF, 0xBC8F8FFF, 0x0038A8FF, 0x002366FF, 0xCA2C92FF, 0x7851A9FF,
    0xE0115FFF, 0xFF0028FF, 0xBB6528FF, 0xE18E96FF, 0xA81C07FF, 0x80461BFF,
    0xB7410EFF, 0x00563FFF, 0x8B4513FF, 0xFF6700FF, 0xF4C430FF, 0xFF8C69FF,
    0xFF91A4FF, 0xECD540FF, 0xF4A460FF, 0x92000AFF, 0x507D2AFF, 0x082567FF,
    0xCBA135FF, 0xFF2400FF, 0xFFD800FF, 0x76FF7AFF, 0x2E8B57FF, 0x321414FF,
    0xFFF5EEFF, 0xFFBA00FF, 0x704214FF, 0x8A795DFF, 0x009E60FF, 0xFC0FC0FF,
    0x882D17FF, 0xC0C0C0FF, 0xCB410BFF, 0x007474FF, 0x87CEEBFF, 0xCF71AFFF,
    0x6A5ACDFF, 0x708090FF, 0x933D41FF, 0x100C08FF, 0xFFFAFAFF, 0x0FC0FCFF,
    0xFEFDFFFF, 0xA7FC00FF, 0x4682B4FF, 0x23297AFF, 0xE4D96FFF, 0xFFCC33FF,
    0xD2B48CFF, 0xF94D00FF, 0xF28500FF, 0xFFCC00FF, 0x8B8589FF, 0xD0F0C0FF,
    0x008080FF, 0x367588FF, 0x006D5BFF, 0xCD5700FF, 0xE2725BFF, 0xD8BFD8FF,
    0xDE6FA1FF, 0xFC89ACFF, 0x0ABAB5FF, 0xE08D3CFF, 0xDBD7D2FF, 0xEEE600FF,
    0xFF6347FF, 0x746CC0FF, 0xFFC87CFF, 0xFD0E35FF, 0x00755EFF, 0x0073CFFF,
    0x417DC1FF, 0xDEAA88FF, 0xB57281FF, 0x30D5C8FF, 0x00FFEFFF, 0xA0D6B4FF,
    0x66424DFF, 0x8A496BFF, 0x66023CFF, 0x0033AAFF, 0xD9004CFF, 0x8878C3FF,
    0x536895FF, 0xFFB300FF, 0x3CD070FF, 0x120A8FFF, 0x4166F5FF, 0xFF6FFFFF,
    0x635147FF, 0x5B92E5FF, 0xB78727FF, 0xFFFF66FF, 0x7B1113FF, 0xAE2029FF,
    0xE1AD21FF, 0xD3003FFF, 0xC5B358FF, 0xC80815FF, 0x43B3AEFF, 0xA020F0FF,
    0x7F00FFFF, 0x40826DFF, 0x922724FF, 0x9F1D35FF, 0xDA1D81FF, 0xFFA089FF,
    0x9F00FFFF, 0x004242FF, 0x645452FF, 0xF5DEB3FF, 0xFFFFFFFF, 0xF5F5F5FF,
    0xA2ADD0FF, 0xFF43A4FF, 0xFC6C85FF, 0x722F37FF, 0xC9A0DCFF, 0x738678FF,
    0x0F4D92FF, 0xFFFF00FF, 0x9ACD32FF, 0xFFEF02FF, 0x0014A8FF, 0x2C1608FF
};

int getRandomColor()
{
    static std::default_random_engine generator(time(0));
    static std::uniform_int_distribution<size_t> distribution(
        0, sizeof(PlayerColors) - 1);
    return PlayerColors[distribution(generator)];
}

std::string toEmbedString(int color)
{
    if(color & 0xFF000000) color >>= 8;
    std::stringstream stream;
    stream << "{" << std::hex << color << "}";
    return stream.str();
}

}
