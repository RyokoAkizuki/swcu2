<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>编辑地图 | SWCU自由地带</title>
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/layouts/side-menu.css">
  </head>
  <body>
    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
          <!-- Hamburger icon -->
          <span></span>
      </a>
      <!-- Nav Menu -->
      <div id="menu">
        <div class="pure-menu pure-menu-open">
          <a class="pure-menu-heading" href="#">SWCU自由地带</a>
          <ul>
            <li><a href="index.html">首页</a></li>
            <li><a href="players.html">玩家</a></li>
            <li><a class="menu-item-divided pure-menu-selected" href="maps.html">地图</a></li>
          </ul>
        </div>
      </div>
      <!-- Content -->
      <div id="main">
        <div class="header">
          <h1>编辑地图</h1>
        </div>
        <div style="pacdding:32px;margin:0 auto;width:500px">
          <form class="pure-form pure-form-aligned">
            <fieldset>
              <div class="pure-control-group">
                <label for="name">名称</label>
                <input name="name" id="name" type="text" placeholder="名称">
              </div>
              <div class="pure-control-group">
                <label for="type">类型</label>
                <select name="type" id="type" style="width:196px">
                  <option value="0">地形</option>
                  <option value="1">死斗</option>
                  <option value="2">特技</option>
                  <option value="3">房产</option>
                  <option value="4">生意</option>
                  <option value="5">监狱</option>
                </select>
              </div>
              <div class="pure-control-group">
                <label for="owner">主人</label>
                <input name="owner" id="owner" type="text" placeholder="主人">
              </div>
              <div class="pure-control-group">
                <label for="activated" class="pure-checkbox">启用地图
                </label>
                <input name="activated" id="activated" type="checkbox">
              </div>
              <div class="pure-control-group">
                <label for="world">虚拟世界</label>
                <input name="world" id="world" type="text" placeholder="虚拟世界">
              </div>
              <div class="pure-control-group">
                <label></label>
                <button type="submit" class="pure-button pure-button-primary">提交</button>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
    <script src="js/ui.js"></script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/common.js"></script>
    <script>
      var id;
      $(document).ready(function() {
        var name = getUrlParameter('name');
        $.getJSON('/maps/name/' + name, function(data) {
          id = data['id'];
          $('#name').val(data['name']);
          $('#type').val(data['type']);
          $('#owner').val(data['owner']);
          $('#activated').prop('checked', data['activated']);
          $('#world').val(data['world']);
        });
      });
    </script>
  </body>
</html>
