<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>地图 | SWCU自由地带</title>
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/layouts/side-menu.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.4/css/jquery.dataTables.css">
  </head>
  <body>
    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
          <!-- Hamburger icon -->
          <span></span>
      </a>
      <!-- Nav Menu -->
      <div id="menu">
        <div class="pure-menu pure-menu-open">
          <a class="pure-menu-heading" href="#">SWCU自由地带</a>
          <ul>
            <li><a href="index.html">首页</a></li>
            <li><a href="players.html">玩家</a></li>
            <li><a class="menu-item-divided pure-menu-selected" href="maps.html">地图</a></li>
          </ul>
        </div>
      </div>
      <!-- Content -->
      <div id="main">
        <div class="header">
          <h1>地图</h1>
        </div>
        <div style="padding:32px">
          <a class="pure-button" style="margin-bottom:24px" href="map-add.html">添加地图</a>
          <table id="map-detail-table" class="display" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>名称</th>
                <th>类型</th>
                <th>启用</th>
                <th>世界</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <script src="js/ui.js"></script>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="//cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
    <script>
      $(document).ready(function() {
        $('#map-detail-table').dataTable({
          "ajax": "/maps/",
          "columns": [
            { "data": "name" },
            { "data": "type" },
            { "data": "activated" },
            { "data": "world" }
          ]
        });
        $('#map-detail-table tbody').on('click', 'tr', function() {
          var name = $('td', this).eq(0).text();
          window.location.href = "map-edit.html?name=" + name;
        });
      });
    </script>
  </body>
</html>
